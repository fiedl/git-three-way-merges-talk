\usepackage{graphicx}
%\usepackage[font=footnotesize]{caption}
\usepackage{rotating}

\newcommand\image[1]{\includegraphics[width=\textwidth]{img/#1}}

\newcommand\fig[2]{
  \begin{figure}[htb]
    \begin{margincap}
      \centering
      \image{#1}
      \caption{#2}
    \end{margincap}
  \end{figure}
}

\usepackage{placeins} % implements \FloatBarrier